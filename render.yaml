# Render.com FREE tier deployment configuration for Betty's Bomb Tracker
# Total cost: $0/month with external keep-alive pinger

services:
  - type: web
    name: bettys-bomb-tracker
    env: docker
    plan: free  # Changed from starter to FREE tier
    region: singapore  # Closest to India for low latency
    autoDeploy: true
    healthCheckPath: /
    
    # Environment variables
    envVars:
      - key: PORT
        value: 8501
      - key: STREAMLIT_SERVER_HEADLESS
        value: true
      - key: STREAMLIT_BROWSER_GATHER_USAGE_STATS
        value: false
    
    # Persistent disk for SQLite database (FREE tier: 1GB included)
    disk:
      name: tracker-data
      mountPath: /data
      sizeGB: 1
    
    # FREE TIER NOTES:
    # - Sleeps after 15 minutes of inactivity
    # - Wakes up automatically on HTTP request (3-5 second delay)
    # - Solution: Use cron-job.org to ping every 10 minutes (keeps it awake 24/7)
    # - 750 hours/month free (31 days = 744 hours, perfect!)
    # - If you need truly always-on: $7/month (still cheaper than Fly.io)
